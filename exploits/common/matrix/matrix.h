#include <stdint.h>

typedef int16_t cell_type;

typedef struct {
  cell_type* data;
  int num_rows;
  int num_cols;
} Matrix;

Matrix* create_matrix(int num_rows, int num_cols);
void free_matrix(Matrix* m);

cell_type get_value(Matrix* m, int row, int col);
void set_value(Matrix* m, int row, int col, cell_type val);
void inc_value(Matrix* m, int row, int col);

void copy_matrix(Matrix* src, Matrix* dst);
void clear_matrix(Matrix* m);

uint32_t count_hits(Matrix* m, cell_type threshold);
void print_matrix_csv(Matrix* m);
void print_matrix_xy(Matrix* x, Matrix* y);
